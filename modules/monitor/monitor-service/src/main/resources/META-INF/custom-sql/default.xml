<?xml version="1.0" encoding="UTF-8"?>
<custom-sql>
    <sql id="findAll">
        <![CDATA[
            SELECT
                m.ipaddress,
                m.type_,
                m.userid,
                m.usereventid,
                m.createdate,
                u.screenname
            FROM monitor_userevent m
                INNER JOIN user_ u
                USING(userid)
            LIMIT ?
            OFFSET ?;
        ]]>
    </sql>
    <sql id="findType">
        <![CDATA[
            SELECT
                m.ipaddress,
                m.type_,
                m.userid,
                m.usereventid,
                m.createdate,
                u.screenname
            FROM monitor_userevent m
                INNER JOIN user_ u
                USING(userid)
            WHERE type_ = ?
            LIMIT ?
            OFFSET ?;
        ]]>
    </sql>
    <sql id="findAllForCurrentUser">
        <![CDATA[
            SELECT
                m.ipaddress,
                m.type_,
                m.userid,
                m.usereventid,
                m.createdate,
                u.screenname
            FROM monitor_userevent m
                INNER JOIN user_ u
                USING(userid)
            WHERE userid = ?
            LIMIT ?
            OFFSET ?;
        ]]>
    </sql>
    <sql id="findTypeForCurrentUser">
        <![CDATA[
            SELECT
                m.ipaddress,
                m.type_,
                m.userid,
                m.usereventid,
                m.createdate,
                u.screenname
            FROM monitor_userevent m
                INNER JOIN user_ u
                USING(userid)
            WHERE userid = ? AND type_ = ?
            LIMIT ?
            OFFSET ?;
        ]]>
    </sql>
</custom-sql>